-- USER ROLES
CREATE TABLE RP_userRoles(
r_id INT PRIMARY KEY IDENTITY,
r_name VARCHAR(50) NOT NULL
);

-- STATES
CREATE TABLE RP_states(
s_id INT PRIMARY KEY IDENTITY,
s_name VARCHAR(100) NOT NULL,
s_image VARCHAR(MAX) NOT NULL
);

-- CITIES
CREATE TABLE RP_cities(
c_id INT PRIMARY KEY IDENTITY,
c_name VARCHAR(100) NOT NULL,
c_state INT FOREIGN KEY REFERENCES RP_states(s_id) ON DELETE SET NULL,
c_image VARCHAR(MAX) NOT NULL
);

-- MEMBERSHIP
CREATE TABLE RP_membership(
m_id INT PRIMARY KEY IDENTITY,
m_name VARCHAR(50) NOT NULL,
m_features VARCHAR(MAX),
m_icon VARCHAR(MAX) NOT NULL
);

-- USER
CREATE TABLE RP_users(
u_id INT PRIMARY KEY IDENTITY,
u_role INT FOREIGN KEY REFERENCES RP_userRoles(r_id) ON DELETE SET NULL,
u_name VARCHAR(100) NOT NULL,
u_username VARCHAR(100) NOT NULL UNIQUE,
u_email VARCHAR(100) NOT NULL UNIQUE,
u_password VARCHAR(100) NOT NULL,
u_phone VARCHAR(13) NOT NULL UNIQUE,
u_city INT FOREIGN KEY REFERENCES RP_cities(c_id) ON DELETE SET NULL,
u_status VARCHAR(50) NOT NULL,
u_token INT NOT NULL,
u_created DATETIME NOT NULL,
u_image VARCHAR(MAX),
u_facebook VARCHAR(255),
u_twitter VARCHAR(255),
u_instagram VARCHAR(255),
u_about VARCHAR(300),
u_membership INT FOREIGN KEY REFERENCES RP_membership(m_id) ON DELETE SET NULL
);

-- PROPERTY TYPE
CREATE TABLE RP_propertyTypes(
pt_id INT PRIMARY KEY IDENTITY,
pt_name VARCHAR(MAX) NOT NULL
);

-- PROPERTY LISTING
CREATE TABLE RP_property(
p_id INT PRIMARY KEY IDENTITY,
p_type INT FOREIGN KEY REFERENCES RP_propertyTypes(pt_id) ON DELETE SET NULL,
p_name VARCHAR(255) NOT NULL,
p_demand BIGINT NOT NULL,
p_description VARCHAR(MAX) NOT NULL,
p_purpose VARCHAR(50),
p_area INT NOT NULL,
p_size INT NOT NULL,
p_bedrooms INT NOT NULL,
p_bathrooms INT NOT NULL,
p_floors INT NOT NULL,
p_garages INT NOT NULL,
p_location VARCHAR(MAX) NOT NULL,
p_city INT FOREIGN KEY REFERENCES RP_cities(c_id) ON DELETE SET NULL,
p_availability VARCHAR(50) NOT NULL,
p_postedBy INT FOREIGN KEY REFERENCES RP_users(u_id) ON DELETE SET NULL,
p_video VARCHAR(MAX),
p_image_1 VARCHAR(MAX),
p_image_2 VARCHAR(MAX),
p_image_3 VARCHAR(MAX),
p_status VARCHAR(50) NOT NULL,
p_created DATETIME NOT NULL
);